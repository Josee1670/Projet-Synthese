<h1>Ajouter un Candidat</h1>
<form class="example-form" #candidatForm="ngForm" (ngSubmit)="saveCandidat()">
  <button mat-stroked-button>Annuler</button>

  <button
    mat-stroked-button
    type="submit"
    [disabled]="!candidatForm.form.valid"
    (click)="saveCandidat()"
  >
    <mat-icon>save</mat-icon> Sauvegarde
  </button>
  <div>
    <h4>Nom et prénom :</h4>
    <mat-form-field required class="example-full-width" appearance="fill">
      <input
        name="name"
        [(ngModel)]="candidat.name"
        #name="ngModel"
        required
        type="text"
        matInput
      />
      <mat-error
        *ngIf="
          name.invalid &&
          (name.dirty || name.touched) &&
          name.hasError('required')
        "
        >Le nom du candidat est obligatoire.</mat-error
      >
    </mat-form-field>

    <h4>Poste :</h4>
    <mat-form-field required class="example-full-width" appearance="fill">
      <input
        name="jobTitle"
        [(ngModel)]="candidat.jobTitle"
        #jobTitle="ngModel"
        required
        type="text"
        matInput
      />
      <mat-error
        *ngIf="
          jobTitle.invalid &&
          (jobTitle.dirty || jobTitle.touched) &&
          jobTitle.hasError('required')
        "
        >Le poste du candidat est obligatoire.</mat-error
      >
    </mat-form-field>

    <h2>Courte présentation</h2>
    <mat-form-field required class="example-full-width" appearance="fill">
      <textarea
        name="description"
        [(ngModel)]="candidat.description"
        #description="ngModel"
        required
        type="text"
        matInput
      ></textarea>
      <mat-error
        *ngIf="
          description.invalid &&
          (description.dirty || description.touched) &&
          description.hasError('required')
        "
        >La description est obligatoire.</mat-error
      >
    </mat-form-field>

    <h3>Informations personnelles</h3>

    <h4>Adresse</h4>
    <mat-form-field class="example-full-width" appearance="fill">
      <input
        name="address"
        [(ngModel)]="candidat.address"
        #address="ngModel"
        required
        type="text"
        matInput
      />
      <mat-error
        *ngIf="
          address.invalid &&
          (address.dirty || address.touched) &&
          address.hasError('required')
        "
        >L'adresse est obligatoire.</mat-error
      >
    </mat-form-field>

    <h4>Telephone</h4>
    <mat-form-field class="example-full-width" appearance="fill">
      <input
        name="phone"
        [(ngModel)]="candidat.phone"
        #phone="ngModel"
        required
        type="tel"
        matInput
      />
      <mat-error
        *ngIf="
          phone.invalid &&
          (phone.dirty || phone.touched) &&
          phone.hasError('required')
        "
        >Le numéro de téléphone est obligatoire.</mat-error
      >
    </mat-form-field>

    <h4>Ville</h4>
    <mat-form-field class="example-full-width" appearance="fill">
      <input
        name="city"
        [(ngModel)]="candidat.city"
        #city="ngModel"
        required
        type="text"
        matInput
      />
      <mat-error
        *ngIf="
          city.invalid &&
          (city.dirty || city.touched) &&
          city.hasError('required')
        "
        >La ville est obligatoire.</mat-error
      >
    </mat-form-field>

    <h4>Courriel</h4>
    <mat-form-field class="example-full-width" appearance="fill">
      <input
        name="email"
        [(ngModel)]="candidat.email"
        #email="ngModel"
        required
        type="email"
        matInput
      />
      <mat-error
        *ngIf="
          email.invalid &&
          (email.dirty || email.touched) &&
          email.hasError('required')
        "
        >Le courriel est obligatoire.</mat-error
      >
    </mat-form-field>

    <h4>Province</h4>
    <mat-form-field class="example-full-width" appearance="fill">
      <input
        name="province"
        [(ngModel)]="candidat.province"
        #province="ngModel"
        required
        type="text"
        matInput
      />
      <mat-error
        *ngIf="
          province.invalid &&
          (province.dirty || province.touched) &&
          province.hasError('required')
        "
        >La province est obligatoire.</mat-error
      >
    </mat-form-field>

    <h4>Code Postal</h4>
    <mat-form-field class="example-full-width" appearance="fill">
      <input
        name="postalCode"
        [(ngModel)]="candidat.postalCode"
        #postalCode="ngModel"
        required
        type="text"
        matInput
      />
      <mat-error
        *ngIf="
          postalCode.invalid &&
          (postalCode.dirty || postalCode.touched) &&
          postalCode.hasError('required')
        "
        >Le code postal est obligatoire.</mat-error
      >
    </mat-form-field>
  </div>

  <button mat-stroked-button>Annuler</button>
  <button
    mat-stroked-button
    type="submit"
    [disabled]="!candidatForm.form.valid"
    (click)="saveCandidat()"
  >
    <mat-icon>save</mat-icon> Sauvegarde
  </button>
</form>
